"use strict";(self.webpackChunkumass_compsci_220_github_io=self.webpackChunkumass_compsci_220_github_io||[]).push([[605],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>h});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=a.createContext({}),u=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},c=function(e){var n=u(e.components);return a.createElement(l.Provider,{value:n},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(t),m=i,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||o;return t?a.createElement(h,r(r({ref:n},c),{},{components:t})):a.createElement(h,r({ref:n},c))}));function h(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,r=new Array(o);r[0]=m;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[d]="string"==typeof e?e:i,r[1]=s;for(var u=2;u<o;u++)r[u]=t[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},7651:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var a=t(7462),i=(t(7294),t(3905));const o={sidebar_position:2},r="Syntax and Code",s={unversionedId:"guidelines/syntax-and-code",id:"guidelines/syntax-and-code",title:"Syntax and Code",description:"This page outlines rules for good programming practice in regards to syntax, naming, separation of concerns, code duplication, and logic. Failing to apply these practices on homework assignment may result in point deductions.",source:"@site/materials/guidelines/syntax-and-code.md",sourceDirName:"guidelines",slug:"/guidelines/syntax-and-code",permalink:"/materials/guidelines/syntax-and-code",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Bad Practices",permalink:"/materials/guidelines/bad-practices"},next:{title:"Testing",permalink:"/materials/guidelines/testing"}},l={},u=[{value:"Formatting: Indentation, Bracing, and Spacing",id:"formatting-indentation-bracing-and-spacing",level:2},{value:"Naming",id:"naming",level:2},{value:"(Optional) Naming Suggestions",id:"optional-naming-suggestions",level:2},{value:"Comments",id:"comments",level:2},{value:"Files Have Purpose",id:"files-have-purpose",level:2},{value:"Function Size",id:"function-size",level:2},{value:"Code Duplication",id:"code-duplication",level:2},{value:"Code Logic",id:"code-logic",level:2},{value:"Data Flow",id:"data-flow",level:3},{value:"Stick with the Function&#39;s Purpose",id:"stick-with-the-functions-purpose",level:3},{value:"Bad Practices",id:"bad-practices",level:2}],c={toc:u},d="wrapper";function p(e){let{components:n,...t}=e;return(0,i.kt)(d,(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"syntax-and-code"},"Syntax and Code"),(0,i.kt)("p",null,"This page outlines rules for good programming practice in regards to syntax, naming, separation of concerns, code duplication, and logic. Failing to apply these practices on homework assignment may result in point deductions."),(0,i.kt)("p",null,"Please ask questions if anything is unclear. Do review your past assignments and think about how you could improve it."),(0,i.kt)("h2",{id:"formatting-indentation-bracing-and-spacing"},"Formatting: Indentation, Bracing, and Spacing"),(0,i.kt)("p",null,"Formatting is automatically handled with ",(0,i.kt)("a",{parentName:"p",href:"https://prettier.io/"},"Prettier")," when you build your submission with ",(0,i.kt)("inlineCode",{parentName:"p"},"npm run build:submission"),". Projects will come with a ",(0,i.kt)("inlineCode",{parentName:"p"},".prettierrc")," file that specifies the configuration. You ",(0,i.kt)("em",{parentName:"p"},"are not")," allowed to change this configuration file."),(0,i.kt)("p",null,"If you would like format without building the ",(0,i.kt)("inlineCode",{parentName:"p"},".zip"),", use the ",(0,i.kt)("inlineCode",{parentName:"p"},"npm run format")," command. Alternatively, you can install the ",(0,i.kt)("a",{parentName:"p",href:"https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode"},"Prettier extension")," to bring formatting into the editor."),(0,i.kt)("h2",{id:"naming"},"Naming"),(0,i.kt)("p",null,"Use descriptive identifiers (names) that make the data type and purpose of the member (variable, function, class, etc.) clear to readers. Misleading names are worst: calling a list ",(0,i.kt)("inlineCode",{parentName:"p"},"array")," or a number ",(0,i.kt)("inlineCode",{parentName:"p"},"obj"),"."),(0,i.kt)("p",null,"Naming style depends on the author and context. Ideally, you should stick with the most prominent style of the language or codebase. In this class, you should choose something that is consistent."),(0,i.kt)("h2",{id:"optional-naming-suggestions"},"(Optional) Naming Suggestions"),(0,i.kt)("p",null,"In TypeScript and JavaScript, use ",(0,i.kt)("inlineCode",{parentName:"p"},"camelCase")," for variables, functions, fields, and methods. Use ",(0,i.kt)("inlineCode",{parentName:"p"},"UPPER_SNAKE_CASE")," for significant constants. ",(0,i.kt)("inlineCode",{parentName:"p"},"PascalCase")," for classes, interfaces, and user-defined types. Use uppercase letters (starting from ",(0,i.kt)("inlineCode",{parentName:"p"},"T"),") for parametric types. Examples:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"let thisIsAReallyLongVariableNameInCamelCase = 0;\nfunction thisIsMyFunctionsName(parameterOne: number, parameterTwo: number) {}\n\nclass MyReallyCoolClassInPascalCase {\n  fieldOne: number;\n  fieldTwo: number;\n  methodOne() {}\n}\n\ninterface Person {\n  name: string;\n  address: string;\n}\n\nconst MAX_LENGTH = 5;\n\nfunction myReallyGenericFunction<T, U, V>(t: T, u: U, v: V) {}\n")),(0,i.kt)("p",null,"Short names for temporaries with a scope not exceeding a few lines are fine. But if a variable stores an important value that exists for many lines, you should give it a decent name."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"const arr = [1, 2, 3];\nconst doubled = arr.map(x => x * 2); // OK\n\nlet x = arr[i];\nlet y = arr[i + 1];\n// 30+ lines of code using x and y\nreturn otherArray[x + y] >= 0 || otherArray[x - y]; // At this point, you forget what x and y are.\n")),(0,i.kt)("p",null,"Functions do stuff! They perform actions using their supplied arguments. Try expressing this action by using verbs or action words in their names."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"// MEH: No context to what the function is doing, just an adjective.\nfunction equal(x: number, y: number): boolean {}\n// GOOD: Context - a question. Are these two things equal?\nfunction isEqual(x: number, y: number): boolean {}\n// MEH: `move` does not fully capture what the function does. Move? How much?\nfunction move(x: Player, position: Position): void {}\n// GOOD: Adding the `To` makes it clear that you are moving to a specific location.\nfunction moveTo(x: Player, position: Position): void {}\n")),(0,i.kt)("p",null,"Functions that return booleans should start with: ",(0,i.kt)("inlineCode",{parentName:"p"},"is"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"has"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"can"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"could"),", or ",(0,i.kt)("inlineCode",{parentName:"p"},"did"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"function isOwner(userId: string): boolean {}\nfunction hasMembership(userId: string): boolean {}\n")),(0,i.kt)("h2",{id:"comments"},"Comments"),(0,i.kt)("p",null,"Comments should be enough for an unfamiliar reader to understand the code. Reasonably complex statements should be documented as necessary. Such as statements that use a formula or algorithm. Explicitly note any side effects or dependencies on functions."),(0,i.kt)("p",null,"You do not need to comment every line. But you could use a ",(0,i.kt)("a",{parentName:"p",href:"https://tsdoc.org/"},"TSDoc")," comment on important functions to explain arguments, results, and purpose."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"/**\n * Returns the average of two numbers.\n *\n * @param x - The first input number\n * @param y - The second input number\n * @returns The arithmetic mean of `x` and `y`\n *\n */\nfunction getAverage(x: number, y: number): number {\n  return (x + y) / 2.0;\n}\n")),(0,i.kt)("h2",{id:"files-have-purpose"},"Files Have Purpose"),(0,i.kt)("p",null,"Homeworks have the following file structure:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'homework1/\n\u251c\u2500 node_modules/      - Packages\n\u251c\u2500 include/           - Provided utility code\n\u251c\u2500 src/               - Your submission\n\u2502  \u251c\u2500 main.ts           - Driver code, your playground\n\u2502  \u251c\u2500 ????.ts           - Project required functions/classes\n|  \u251c\u2500 ????.test.ts      - A single test "suite", where your tests should be\n\u251c\u2500 package.json       - Project metadata (name, author, dependencies, scripts)\n\u251c\u2500 package.lock.json  - Specific dependency information (hashes)\n')),(0,i.kt)("p",null,"Each file has a specific purpose. ",(0,i.kt)("inlineCode",{parentName:"p"},"main.ts")," is your playground. You may use it to write small programs that use the members (functions or classes) defined in the ",(0,i.kt)("inlineCode",{parentName:"p"},"include/")," folder. Use the provided ",(0,i.kt)("inlineCode",{parentName:"p"},"?????.test.ts")," file to write your tests."),(0,i.kt)("p",null,"If you were designing a math library, it would not make much sense if there was code between your provided functions:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"export function mean(a: number, b: number): number {\n  /* code */\n}\nexport function median(data: number[]): number {\n  /* code */\n}\n\n// DO NOT HAVE RANDOM CODE IN THE MIDDLE OF A FILE\n// If they are tests, then put them in the test file\n// If they are examples or driver code, put them in the `main.ts` file\nconst x = mean(1, 2);\nconst y = median([1, 5, 4, 8, 5]);\n\nconsole.assert(x === 1.5);\nconsole.assert(y === 4);\n\nexport function mode(data: number[]): number {\n  /* code */\n}\n")),(0,i.kt)("h2",{id:"function-size"},"Function Size"),(0,i.kt)("p",null,"Functions should be small and manageable. Anything with standalone functionality deserves to be a function, even if used once. If a block of code spans more than a dozen lines, then it should be either modularized (made into separate functions) or commented out until you think of an alternative approach. This is helpful visually as functions can be collapsed and ",(0,i.kt)("a",{parentName:"p",href:"#comments"},"documented"),"."),(0,i.kt)("p",null,"If you find yourself ",(0,i.kt)("strong",{parentName:"p"},"copy-and-pasting a bit of code"),", instead of pasting it to where you need to use it, paste it into its function. Then replace the original bit of code with a call to that new function."),(0,i.kt)("h2",{id:"code-duplication"},"Code Duplication"),(0,i.kt)("p",null,"Code duplication is very bad. It takes up space, distracts, and fatigues the reader; it makes maintenance and testing difficult."),(0,i.kt)("p",null,"Duplicate code deserves refactoring into a function. Different data becomes function arguments. Different operations (+ vs. ","*",", etc.) become function arguments for higher-order functions (recall how we introduced them initially). Even a reasonably complicated expression should not be duplicated, but possibly transformed into a function."),(0,i.kt)("p",null,'Each assignment can be completed in a graceful way - if you ever think "Is this too much?", the answer is probably yes. Reducing code duplication is not always easy, especially if you are new to a language and do not know all of its features. Please, ',(0,i.kt)("strong",{parentName:"p"},"go to office hours and review past and current assignments. There is always somewhere to improve"),"."),(0,i.kt)("h2",{id:"code-logic"},"Code Logic"),(0,i.kt)("h3",{id:"data-flow"},"Data Flow"),(0,i.kt)("p",null,"A typical function receives arguments and returns a result. Ideally, the function should only depend on its arguments. Other dependencies and side effects must be documented. Read the specification carefully, and implement it exactly as stated. Make sure any outputs are computed exactly from the specified data and do not overwrite any of the original data. The function should not modify its arguments unless required by the specification."),(0,i.kt)("h3",{id:"stick-with-the-functions-purpose"},"Stick with the Function's Purpose"),(0,i.kt)("p",null,"Each function should have a strict and defined purpose. It should do nothing more and nothing less. If you are tasked with writing a function that takes in an ",(0,i.kt)("inlineCode",{parentName:"p"},"Image")," and returns a modified copy, then you ",(0,i.kt)("em",{parentName:"p"},"should not")," have calls to ",(0,i.kt)("inlineCode",{parentName:"p"},"save")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"show")," inside of your implementation."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"// imageManipulation.ts\nfunction imageMap(img: Image, f: (c: Color) => Color): Image {\n  const copy = img.copy();\n\n  // Implementation of imageMap\n  copy.show(); // DO NOT DO THIS\n\n  return copy;\n}\n")),(0,i.kt)("p",null,"Here the line ",(0,i.kt)("inlineCode",{parentName:"p"},"copy.show()")," makes no sense in the context of the function. The function was designed to do a single thing. Adding a ",(0,i.kt)("inlineCode",{parentName:"p"},".show()")," in the middle is adding extra functionality."),(0,i.kt)("p",null,"Instead, this logic should be omitted and left up to the caller of the function to decide what to do with the result."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"// main.ts\nimageMap(myImage).show();\n")),(0,i.kt)("h2",{id:"bad-practices"},"Bad Practices"),(0,i.kt)("p",null,"Your code should be well-designed and thought-out. Please read the ",(0,i.kt)("a",{parentName:"p",href:"/materials/guidelines/bad-practices"},"page on bad practices for what to avoid"),"."))}p.isMDXComponent=!0}}]);